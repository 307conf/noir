{{ define "main" }}
<div class="relative overflow-hidden bg-[#030712] text-white">
    <div class="absolute inset-0 pointer-events-none opacity-30 bg-[radial-gradient(circle_at_1px_1px,#1f2937_1px,transparent_0)] [background-size:24px_24px]"></div>
    <div class="absolute inset-0 pointer-events-none mix-blend-screen">
        <div class="w-full h-full bg-gradient-to-b from-cyan-500/10 via-purple-500/10 to-transparent"></div>
    </div>

    {{ $authorData := index site.Data .Language.Lang "author" }}
    {{ $author := cond (and $authorData $authorData.author) $authorData.author site.Params }}
    
    {{ with $author }}
    <section class="relative max-w-6xl mx-auto px-4 pt-12 pb-8 md:pb-12">
        <div class="flex flex-col lg:flex-row gap-8">
            <div class="flex-1 relative overflow-hidden rounded-2xl border border-cyan-500/30 bg-white/5 backdrop-blur-lg p-8 shadow-[0_20px_60px_-30px_rgba(59,130,246,0.6)]">
                <div class="absolute inset-0 pointer-events-none bg-[linear-gradient(120deg,rgba(59,130,246,0.08),transparent_40%)]"></div>
                <!-- <p class="text-xs uppercase tracking-[0.3em] text-cyan-300 mb-3 flex items-center gap-2">
                    <span class="inline-flex h-2 w-2 rounded-full bg-emerald-400 animate-pulse"></span> Hacker Conference
                </p> -->
                <h1 class="glitch-title text-4xl md:text-4xl font-black leading-tight text-cyan-300 drop-shadow-[0_5px_20px_rgba(0,0,0,0.4)]" data-text="{{ .name }}">{{ .name }} - {{ .description }}</h1>
                <!-- <p class="mt-4 text-lg text-slate-200/90 leading-relaxed max-w-2xl"><span class="ml-2 mr-2 inline-flex h-2 w-2 rounded-full bg-emerald-400 animate-pulse"></span>{{ .description }}</p> -->

                {{ $period := or .period site.Params.period }}
                {{ if $period }}
                <div class="mt-6 grid gap-4 md:grid-cols-2">
                    <div class="relative overflow-hidden rounded-xl border border-cyan-500/30 bg-white/5 p-4">
                        <div class="flex items-start gap-3">
                            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-cyan-500/10 border border-cyan-400/40 text-cyan-200">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><path d="M16 2v4M8 2v4M3 10h18"/></svg>
                            </div>
                            <div>
                                <p class="text-xs uppercase tracking-[0.25em] text-cyan-300">{{ T "eventDateLabel" }}</p>
                                <p class="text-xl font-semibold text-white mt-1">
                                    {{ if gt (len $period) 1 }}
                                        {{ $start := index $period 0 }}
                                        {{ $end := index $period 1 }}
                                        {{ $startStr := partial "format_datetime.html" (dict "date" $start "format" "datetime") }}
                                        {{ $endStr := partial "format_datetime.html" (dict "date" $end "format" "datetime") }}
                                        {{ if eq $startStr $endStr }}
                                            {{ $startStr }}
                                        {{ else }}
                                            {{ $startStr }} â€” {{ $endStr }}
                                        {{ end }}
                                    {{ else }}
                                        {{ partial "format_datetime.html" (dict "date" (index $period 0) "format" "datetime") }}
                                    {{ end }}
                                </p>
                                <p class="text-sm text-slate-300 mt-1">{{ T "brTimeLabel" }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="relative overflow-hidden rounded-xl border border-purple-500/30 bg-white/5 p-4">
                        <div class="flex items-start gap-3">
                            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-purple-500/10 border border-purple-400/40 text-purple-200">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21s7-4.35 7-10a7 7 0 1 0-14 0c0 5.65 7 10 7 10z"/><circle cx="12" cy="11" r="2.5"/></svg>
                            </div>
                            <div>
                                <p class="text-xs uppercase tracking-[0.25em] text-purple-300">{{ T "fullAddressLabel" }}</p>
                                <p class="text-xl font-semibold text-white mt-1">{{ .location }}</p>
                                <p class="text-sm text-slate-300 mt-1">{{ site.Params.full_address }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                {{ end }}

                <div class="mt-6 flex flex-wrap gap-3">
                    <a href="https://www.eventbrite.com.br/e/307-temporary-security-conference-tickets-1967248486179?aff=siteoficial" class="inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-lg hover:scale-[1.01] transition-transform duration-200">
                        Secure your seat
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 17l9.2-9.2M17 17V7H7"/></svg>
                    </a>
                    <a href="https://forms.gle/fWjpzdcQjSbHgfyY6" class="inline-flex items-center gap-2 rounded-lg border border-white/30 px-4 py-2 text-sm font-semibold text-white/90 hover:border-cyan-400 hover:text-white transition-colors duration-200">
                        Submit a talk
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M5 12h14"/></svg>
                    </a>
                </div>
            </div>
        </div>
    </section>
    {{ else }}
    {{ warnf "Author data not found. Please check your site configuration." }}
    {{ end }}

    <div class="max-w-6xl mx-auto px-4 pb-12 space-y-12 relative z-10">
        <!-- <div class="rounded-2xl border border-cyan-500/20 bg-white/5 backdrop-blur p-6 shadow-inner">
            {{ partial "home-agenda.html" . }}
        </div> -->

        {{ partial "home-trainings.html" (dict "Site" .Site "Language" .Language "Limit" 2 "Title" "Trainings & Workshops") }}

        {{ partial "speakers-gallery.html" (dict "Language" .Language "Title" (T "speakersTitle") "Limit" 0) }}

        <!-- Villages Section -->
        {{ $villagesPages := where (where .Site.RegularPages "Section" "villages") "Language.Lang" .Language.Lang }}
        {{ $villages := sort $villagesPages "Date" "asc" }}
        
        {{ with $villages }}
        <section class="mb-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl md:text-4xl font-bold text-cyan-200">{{ T "villagesTitle" }}</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                {{ range first 3 . }}
                <div class="group relative overflow-hidden rounded-xl border border-cyan-500/20 bg-white/5 p-4 transition-all duration-200 hover:border-cyan-400/60">
                    <p class="text-slate-300 text-xs mb-1">{{ partial "format_datetime.html" (dict "date" .Date "format" "date") }}</p>
                    <a href="{{ .RelPermalink }}" class="block group">
                        <h3 class="inline-flex items-center text-lg font-semibold text-white hover:text-cyan-300 transition-colors duration-200 mb-2">
                            {{ .Title }}
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 opacity-70 group-hover:opacity-100 transition-opacity duration-200">
                                <path d="M7 17l9.2-9.2M17 17V7H7"/>
                            </svg>
                        </h3>
                    </a>    
                    <p class="text-slate-200/80 text-sm">{{ .Summary | default .Params.summary }}</p>
                </div>
                {{ end }}
            </div>
            <div class="flex justify-center mt-6">
                <a href="{{ "villages/" | absLangURL }}" class="text-cyan-400 hover:text-cyan-200 transition-colors duration-200 text-lg">{{ T "viewAll" }}</a>
            </div>
        </section>
        {{ else }}
        {{ warnf "No villages found for language %q. Add markdown files under content/%s/villages/." .Language.Lang .Language.Lang }}
        {{ end }}

        <section class="pb-6">
            {{ $aboutData := index site.Data .Language.Lang "about" }}
            {{ partial "supporters-card" (dict  "Title" (T "supportersLabel") "Supporters" $aboutData.supporters) }}
        </section>
    </div>
</div>

<style>
.glitch-title {
    position: relative;
    text-shadow: 0 0 10px rgba(56, 189, 248, 0.35), 0 0 30px rgba(168, 85, 247, 0.35);
}
.glitch-title::after, .glitch-title::before {
    content: attr(data-text);
    position: absolute;
    left: 0;
    top: 0;
    opacity: 0.3;
    mix-blend-mode: screen;
}
.glitch-title::before {
    transform: translate(2px, -2px);
    color: #22d3ee;
}
.glitch-title::after {
    transform: translate(-2px, 2px);
    color: #a855f7;
}

.project-card {
    height: 100%;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.35), 0 10px 25px -10px rgba(59, 130, 246, 0.4);
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.project-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgba(59, 130, 246, 0.35), 0 10px 10px -5px rgba(59, 130, 246, 0.2);
    border-color: rgba(59, 130, 246, 0.5);
}

.aspect-w-16 {
    position: relative;
    padding-bottom: 56.25%;
}

.aspect-w-16 > img {
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    object-fit: cover;
    filter: saturate(1.1) contrast(1.1);
}
</style>
{{ end }} 
