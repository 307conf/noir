{{ define "main" }}
<div class="max-w-6xl mx-auto px-4 py-12">
    <h1 class="text-4xl md:text-5xl font-bold mb-6 text-text-primary-light dark:text-text-primary-dark">{{ .Title }}</h1>
    {{ with .Content }}
        <div class="prose prose-invert mb-10">{{ . }}</div>
    {{ end }}

    {{ $trainings := sort .Pages "Weight" "asc" }}
    {{ if $trainings }}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
        {{ range $trainings }}
        {{ $image := .Params.image | default "/images/placeholders/training.jpg" }}
        {{ $link := .Params.link | default .RelPermalink }}
        {{ $sponsors := .Params.sponsors }}
        {{ if not (and $sponsors (gt (len $sponsors) 0)) }}
            {{ with .Params.sponsor }}
                {{ $sponsors = (slice .) }}
            {{ end }}
        {{ end }}
        <article class="relative overflow-hidden rounded-lg bg-[#121212] border border-gray-700 transition-all duration-300 group shadow-lg">
            <div class="relative w-full h-52 md:h-64 overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-br from-blue-500/20 to-purple-500/20 z-10"></div>
                <img src="{{ $image }}" alt="{{ .Title }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-60 z-20"></div>
                <div class="absolute inset-0 z-30 p-4 pb-3 md:p-6 md:pb-4 flex flex-col justify-end">
                    <h2 class="text-2xl font-bold text-white mb-2">{{ .Title }}</h2>
                    <div class="flex flex-wrap gap-2 mb-3">
                        {{ with $sponsors }}
                            {{ range . }}
                                <span class="px-2 py-0.5 bg-black/30 backdrop-blur-sm rounded-md text-xs font-medium text-white">{{ . }}</span>
                            {{ end }}
                        {{ end }}
                    </div>
                    <p class="text-sm text-white mb-4 line-clamp-4">{{ .Params.short_description | default .Summary }}</p>
                    <a href="{{ $link }}" class="bg-white/90 backdrop-blur-sm text-black text-sm font-medium py-1.5 px-3 rounded-md inline-flex items-center w-fit shadow-lg">
                        {{ T "learnMore" }}
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2"><path d="M7 17l9.2-9.2M17 17V7H7"/></svg>
                    </a>
                </div>
            </div>
        </article>
        {{ end }}
    </div>
    {{ else }}
        <p class="text-text-secondary-light dark:text-text-secondary-dark">{{ T "noEntriesYet" }}</p>
    {{ end }}
</div>
{{ end }}
