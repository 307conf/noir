{{- $title := .Title | default "Supporters" -}}
{{- $supporters := .Supporters -}}
{{- if not $supporters }}
    {{ warnf "supporters-card partial chamado sem Supporters" }}
{{- end -}}

{{- with $supporters }}
<div class="bg-bg-primary-light dark:bg-bg-secondary-dark p-6 md:p-8 rounded-lg mb-8 border border-border-primary-light dark:border-border-primary-dark">
    <h2 class="text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-text-primary-light dark:text-text-primary-dark">{{ $title }}</h2>
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 justify-items-center items-start">
        {{- range . }}
            {{- $img := or .image .logo .logo_url .logoImage | default "" -}}
            {{- $name := or .name .title .label | default "Supporter" -}}
            {{- $url := or .url .link .website | default "" -}}
            <div class="supporters-card flex flex-col items-center text-center max-w-[10rem]">
                {{ if $url }}
                <a href="{{ $url }}" target="_blank" rel="noopener noreferrer" class="block">
                {{ end }}

                {{ if $img }}
                    <img src="{{ $img }}" alt="{{ $name }}" class="w-20 h-20 rounded-full object-cover border border-border-secondary-light dark:border-border-secondary-dark shadow-sm mx-auto" />
                {{ else }}
                    <div class="w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xl font-semibold text-gray-700 dark:text-gray-200">
                        {{- $initial := substr $name 0 1 -}}
                        {{ $initial | upper }}
                    </div>
                {{ end }}
                    <div class="mt-3 text-sm font-medium text-text-primary-light dark:text-text-primary-dark">{{ $name }}</div>
                {{ if $url }}
                </a>
                {{ end }}
            </div>
        {{- end }}
    </div>
</div>
{{- end }}
